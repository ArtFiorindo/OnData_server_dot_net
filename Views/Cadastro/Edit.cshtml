@model OnData.Models.PacienteOcorrenciaViewModel



<div class="container">
    <h2>Editar Paciente e Ocorrência</h2>

    <!-- Exibir valores carregados para diagnóstico -->
    <h3>Dados carregados</h3>
    <p><strong>Nome do Paciente:</strong> @Model.Paciente.Nome</p>
    <p><strong>CPF:</strong> @Model.Paciente.Cpf</p>
    <p><strong>Email:</strong> @Model.Paciente.Email</p>
    <p><strong>Data da Ocorrência:</strong> @Model.Ocorrencia?.Data</p>
    <p><strong>Valor da Ocorrência:</strong> @Model.Ocorrencia?.Valor</p>
    <p><strong>Aprovado:</strong> @(Model.Ocorrencia?.Aprovado == true ? "Sim" : Model.Ocorrencia?.Aprovado == false ? "Não" : "Não especificado")</p>

    <form action="@Url.Action("Edit", "Cadastro", new { id = Model.Paciente.Id })" method="post" class="form">
        <!-- Formulário de edição -->
        <input type="hidden" asp-for="Paciente.Id" />

        <h3>Paciente</h3>
        <label>Nome</label>
        <input asp-for="Paciente.Nome" type="text" />

        <label>CPF</label>
        <input asp-for="Paciente.Cpf" type="text" placeholder="999.999.999-99" pattern="\d{3}\.\d{3}\.\d{3}-\d{2}" title="Digite o CPF no formato 999.999.999-99" />

        <label>Email</label>
        <input asp-for="Paciente.Email" type="email" />

        <label>Telefone</label>
        <input asp-for="Paciente.Telefone" type="tel" />

        <label>Endereço</label>
        <input asp-for="Paciente.Endereco" type="text" />

        <h3>Ocorrência</h3>
        <input type="hidden" asp-for="Ocorrencia.IdOcorrencia" />

        <label>Data</label>
        <input asp-for="Ocorrencia.Data" type="date" />

        <label>Valor</label>
        <input asp-for="Ocorrencia.Valor" type="number" step="0.01" />

        <!-- Contêiner para alinhar o checkbox e o label "Aprovado" -->
        <div class="checkbox-container">
            <input type="hidden" name="Ocorrencia.Aprovado" value="false" />
            <input asp-for="Ocorrencia.Aprovado" type="checkbox" value="true" @(Model.Ocorrencia?.Aprovado == true ? "checked" : "") />
            <label>Aprovado</label>
        </div>

        <button type="submit">Salvar</button>
        <a href="@Url.Action("Index", "Cadastro")" class="button">Cancelar</a>
    </form>
</div>
